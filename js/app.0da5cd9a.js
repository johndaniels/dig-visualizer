!function(t){function n(n){for(var r,a,u=n[0],l=n[1],c=n[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(s&&s(n);d.length;)d.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,n=0;n<i.length;n++){for(var e=i[n],r=!0,u=1;u<e.length;u++){var l=e[u];0!==o[l]&&(r=!1)}r&&(i.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},o={0:0},i=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var s=l;i.push([345,1]),e()}({183:function(t,n,e){},345:function(t,n,e){"use strict";e.r(n);e(85),e(95),e(96),e(169),e(61),e(100),e(177),e(179),e(102),e(103),e(183),e(184),e(189);var r=e(157);function o(t,n,e){return t.points.every((function(t){return function(t,n,e){return t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=n}(t,n)}))}function i(t,n,e,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=t+e*Math.cos(o),a=n+e*Math.sin(o),u=i-r*Math.sin(o),l=a+r*Math.cos(o);return{points:[[t,n],[i,a],[u,l],[u-e*Math.cos(o),l-e*Math.sin(o)]]}}e(211);function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=100,l=100;function c(t,n){var e,r=0;do{var a=2*Math.random()*Math.PI;if(e=i(Math.random()*u,Math.random()*l,t,n,a),(r+=1)>10)throw alert("Cannot generate world. Too many entities or entities are too big"),new Error}while(!o(e,u));return e}function s(t,n){return n.some((function(n){return e=t,o=n.shape,Object(r.polygonPolygon)(e.points.flat(),o.points.flat());var e,o}))}function f(t,n,e){var r;do{r=c(n,e)}while(s(r,t));return{entityType:"dig",shape:r}}function d(t,n,e){var r;do{r=c(n,e)}while(s(r,t));return{entityType:"building",shape:r}}var h=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=[],o=0;o<e.count;o++)r.push(f(r,e.width,e.height));for(var i=[],a=0;a<n.count;a++)i.push(d(i,n.width,n.height));this.digs=r,this.buildings=i,this.width=u,this.height=l}var n,e,r;return n=t,(e=[{key:"structuresSeen",value:function(){var t=0,n=!0,e=!1,r=void 0;try{for(var o,i=this.buildings[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)s(o.value.shape,this.digs)&&(t+=1)}catch(t){e=!0,r=t}finally{try{n||null==i.return||i.return()}finally{if(e)throw r}}return t}}])&&a(n.prototype,e),r&&a(n,r),t}();function p(t,n){return console.log(t,n),new h(t,n)}var v=e(10),g=600,y=600;function b(t){return[t[0]/l*y,t[1]/u*g]}function m(t,n){"dig"==n.entityType?t.fillStyle="#FF0000":t.fillStyle="#0000FF";var e=b(n.shape.points[0]);t.beginPath(),t.moveTo(e[0],e[1]);for(var r=1;r<n.shape.points.length;r++){var o=b(n.shape.points[r]);t.lineTo(o[0],o[1])}t.closePath(),t.fill()}window.addEventListener("load",(function(){var t,n=document.getElementById("canvas"),e=document.getElementById("structures-seen-output");function r(){(function(t,n){var e=n.getContext("2d");e.clearRect(0,0,g,y);var r=!0,o=!1,i=void 0;try{for(var a,u=t.buildings[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){m(e,a.value)}}catch(t){o=!0,i=t}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var l=!0,c=!1,s=void 0;try{for(var f,d=t.digs[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){m(e,f.value)}}catch(t){c=!0,s=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}})(t=p(i(),a()),n),e.innerText=t.structuresSeen()}function o(t,n){var e=document.getElementById(t);return e.value=n,e.addEventListener("change",r),e}function i(){return{count:parseInt(u.value,10),width:parseFloat(l.value),height:parseFloat(c.value)}}function a(){return{count:parseInt(s.value,10),width:parseFloat(f.value),height:parseFloat(d.value)}}var u=o("building-count-input",10),l=o("building-width-input",4),c=o("building-height-input",3),s=o("dig-count-input",5),f=o("dig-width-input",4),d=o("dig-height-input",4),h=document.getElementById("simulation-count-input");document.getElementById("regenerate-button").addEventListener("click",r),document.getElementById("simulate-button").addEventListener("click",(function(){!function(t,n,e){for(var r=[],o=0;o<e;o++){var i=p(t,n);r.push({structuresSeen:i.structuresSeen()})}var a=10,u=30,l=30,c=40,s=460-c-u,f=400-a-l,d=v.f("#histogram").html("").append("svg").attr("width",s+c+u).attr("height",f+a+l).append("g").attr("transform","translate("+c+","+a+")"),h=v.e().domain([0,10]).range([0,s]);d.append("g").attr("transform","translate(0,"+f+")").call(v.a(h));var g=v.c().value((function(t){return t.structuresSeen})).domain(h.domain()).thresholds(h.ticks(10))(r),y=v.e().range([f,0]);y.domain([0,v.d(g,(function(t){return t.length}))]),d.append("g").call(v.b(y)),d.selectAll("rect").data(g).enter().append("rect").attr("x",1).attr("transform",(function(t){return"translate("+h(t.x0)+","+y(t.length)+")"})).attr("width",(function(t){return h(t.x1)-h(t.x0)-1})).attr("height",(function(t){return f-y(t.length)})).style("fill","#69b3a2")}(i(),a(),h.value)}))}))}});
//# sourceMappingURL=app.0da5cd9a.js.map