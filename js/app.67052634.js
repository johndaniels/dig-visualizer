!function(t){function e(e){for(var r,i,u=e[0],l=e[1],c=e[2],d=0,f=[];d<u.length;d++)i=u[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(s&&s(e);f.length;)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,u=1;u<n.length;u++){var l=n[u];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={0:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var s=l;o.push([345,1]),n()}({183:function(t,e,n){},345:function(t,e,n){"use strict";n.r(e);n(85),n(95),n(96),n(169),n(61),n(100),n(177),n(179),n(102),n(103),n(183),n(184),n(189);var r=n(157);function a(t,e,n){return t.points.every((function(t){return function(t,e,n){return t[0]>=0&&t[0]<=e&&t[1]>=0&&t[1]<=e}(t,e)}))}function o(t,e,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=t+n*Math.cos(a),i=e+n*Math.sin(a),u=o-r*Math.sin(a),l=i+r*Math.cos(a);return{points:[[t,e],[o,i],[u,l],[u-n*Math.cos(a),l-n*Math.sin(a)]]}}n(211);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=100,l=100;function c(t,e,n){var r,i=0;do{var c=n?0:2*Math.random()*Math.PI;if(r=o(Math.random()*u,Math.random()*l,t,e,c),(i+=1)>10)throw alert("Cannot generate world. Too many entities or entities are too big"),new Error}while(!a(r,u));return r}function s(t,e){return e.some((function(e){return n=t,a=e.shape,Object(r.polygonPolygon)(n.points.flat(),a.points.flat());var n,a}))}function d(t,e,n,r){var a;do{a=c(e,n,r)}while(s(a,t));return{entityType:"testUnit",shape:a}}function f(t,e,n){var r;do{r=c(e,n)}while(s(r,t));return{entityType:"building",shape:r}}var h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=[],a=0;a<n.count;a++)r.push(d(r,n.width,n.height,n.lockRotation));for(var o=[],i=0;i<e.count;i++)o.push(f(o,e.width,e.height));this.testUnits=r,this.buildings=o,this.width=u,this.height=l}var e,n,r;return e=t,(n=[{key:"structuresSeen",value:function(){var t=0,e=!0,n=!1,r=void 0;try{for(var a,o=this.buildings[Symbol.iterator]();!(e=(a=o.next()).done);e=!0)s(a.value.shape,this.testUnits)&&(t+=1)}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}}])&&i(e.prototype,n),r&&i(e,r),t}();function p(t,e){return console.log(t,e),new h(t,e)}var v=n(10),y=600,g=600;function m(t){return[t[0]/l*g,t[1]/u*y]}function b(t,e){"testUnit"==e.entityType?t.fillStyle="#FF0000":t.fillStyle="#0000FF";var n=m(e.shape.points[0]);t.beginPath(),t.moveTo(n[0],n[1]);for(var r=1;r<e.shape.points.length;r++){var a=m(e.shape.points[r]);t.lineTo(a[0],a[1])}t.closePath(),t.fill()}function w(t,e,n){for(var r=[],a=0;a<n;a++){var o=p(t,e);r.push({structuresSeen:o.structuresSeen()})}!function(t){var e=document.getElementById("simulation-table"),n=document.createElement("table"),r=document.createElement("tbody");n.appendChild(r);var a=Array(11).fill(0),o=!0,i=!1,u=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var s=l.value;s.structuresSeen<11&&(a[s.structuresSeen]+=1)}}catch(t){i=!0,u=t}finally{try{o||null==c.return||c.return()}finally{if(i)throw u}}var d=document.createElement("tr");d.innerHTML="<th>Buildings Seen</th><th>Frequency</th>",r.appendChild(d);for(var f=0;f<11;f++){var h=document.createElement("tr"),p=document.createElement("td");p.textContent=f;var v=document.createElement("td");v.textContent=a[f],h.appendChild(p),h.appendChild(v),r.appendChild(h)}e.innerHTML="",e.appendChild(n)}(r);var i=10,u=30,l=30,c=40,s=460-c-u,d=400-i-l,f=v.f("#histogram").html("").append("svg").attr("width",s+c+u).attr("height",d+i+l).append("g").attr("transform","translate("+c+","+i+")"),h=v.e().domain([0,10]).range([0,s]);f.append("g").attr("transform","translate(0,"+d+")").call(v.a(h));var y=v.c().value((function(t){return t.structuresSeen})).domain(h.domain()).thresholds(h.ticks(10))(r),g=v.e().range([d,0]);g.domain([0,v.d(y,(function(t){return t.length}))]),f.append("g").call(v.b(g)),f.selectAll("rect").data(y).enter().append("rect").attr("x",1).attr("transform",(function(t){return"translate("+h(t.x0)+","+g(t.length)+")"})).attr("width",(function(t){return h(t.x1)-h(t.x0)-1})).attr("height",(function(t){return d-g(t.length)})).style("fill","#69b3a2")}window.addEventListener("load",(function(){var t,e=document.getElementById("canvas"),n=document.getElementById("structures-seen-output");function r(){(function(t,e){var n=e.getContext("2d");n.clearRect(0,0,y,g);var r=!0,a=!1,o=void 0;try{for(var i,u=t.buildings[Symbol.iterator]();!(r=(i=u.next()).done);r=!0){b(n,i.value)}}catch(t){a=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(a)throw o}}var l=!0,c=!1,s=void 0;try{for(var d,f=t.testUnits[Symbol.iterator]();!(l=(d=f.next()).done);l=!0){b(n,d.value)}}catch(t){c=!0,s=t}finally{try{l||null==f.return||f.return()}finally{if(c)throw s}}})(t=p(o(),i()),e),n.innerText=t.structuresSeen()}function a(t,e){var n=document.getElementById(t);return n.value=e,n.addEventListener("change",r),n}function o(){return{count:parseInt(u.value,10),width:parseFloat(l.value),height:parseFloat(c.value)}}function i(){return{count:parseInt(s.value,10),width:parseFloat(d.value),height:parseFloat(f.value),lockRotation:h.checked}}var u=a("building-count-input",10),l=a("building-width-input",4),c=a("building-height-input",3),s=a("test-unit-count-input",5),d=a("test-unit-width-input",4),f=a("test-unit-height-input",4),h=document.getElementById("test-unit-lock-rotation-input"),v=document.getElementById("simulation-count-input");document.getElementById("regenerate-button").addEventListener("click",r),document.getElementById("simulate-button").addEventListener("click",(function(){w(o(),i(),v.value)}))}))}});
//# sourceMappingURL=app.67052634.js.map