!function(t){function n(n){for(var r,a,u=n[0],l=n[1],c=n[2],f=0,d=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);for(s&&s(n);d.length;)d.shift()();return o.push.apply(o,c||[]),e()}function e(){for(var t,n=0;n<o.length;n++){for(var e=o[n],r=!0,u=1;u<e.length;u++){var l=e[u];0!==i[l]&&(r=!1)}r&&(o.splice(n--,1),t=a(a.s=e[0]))}return t}var r={},i={0:0},o=[];function a(n){if(r[n])return r[n].exports;var e=r[n]={i:n,l:!1,exports:{}};return t[n].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=t,a.c=r,a.d=function(t,n,e){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(a.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)a.d(e,r,function(n){return t[n]}.bind(null,r));return e},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="";var u=window.webpackJsonp=window.webpackJsonp||[],l=u.push.bind(u);u.push=n,u=u.slice();for(var c=0;c<u.length;c++)n(u[c]);var s=l;o.push([343,1]),e()}({181:function(t,n,e){},343:function(t,n,e){"use strict";e.r(n);e(84),e(94),e(95),e(168),e(61),e(99),e(176),e(101),e(102),e(181),e(182),e(187);var r=e(156);function i(t,n,e){return t.points.every((function(t){return function(t,n,e){return t[0]>=0&&t[0]<=n&&t[1]>=0&&t[1]<=n}(t,n)}))}function o(t,n,e,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=t+e*Math.cos(i),a=n+e*Math.sin(i),u=o-r*Math.sin(i),l=a+r*Math.cos(i);return{points:[[t,n],[o,a],[u,l],[u-e*Math.cos(i),l-e*Math.sin(i)]]}}e(209);function a(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=100,l=100;function c(t,n){var e,r=0;do{var a=2*Math.random()*Math.PI;if(e=o(Math.random()*u,Math.random()*l,t,n,a),(r+=1)>10)throw alert("Cannot generate world. Too many entities or entities are too big"),new Error}while(!i(e,u));return e}function s(t,n){return n.some((function(n){return e=t,i=n.shape,Object(r.polygonPolygon)(e.points.flat(),i.points.flat());var e,i}))}function f(t,n,e){var r;do{r=c(n,e)}while(s(r,t));return{entityType:"dig",shape:r}}function d(t,n,e){var r;do{r=c(n,e)}while(s(r,t));return{entityType:"building",shape:r}}var h=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=[],i=0;i<e.count;i++)r.push(f(r,e.width,e.height));for(var o=[],a=0;a<n.count;a++)o.push(d(o,n.width,n.height));this.digs=r,this.buildings=o,this.width=u,this.height=l}var n,e,r;return n=t,(e=[{key:"structuresSeen",value:function(){var t=0,n=!0,e=!1,r=void 0;try{for(var i,o=this.buildings[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)s(i.value.shape,this.digs)&&(t+=1)}catch(t){e=!0,r=t}finally{try{n||null==o.return||o.return()}finally{if(e)throw r}}return t}}])&&a(n.prototype,e),r&&a(n,r),t}();function p(t,n){return console.log(t,n),new h(t,n)}var v=e(10),g=600,y=600;function b(t){return[t[0]/l*y,t[1]/u*g]}function m(t,n){"dig"==n.entityType?t.fillStyle="#FF0000":t.fillStyle="#0000FF";var e=b(n.shape.points[0]);t.beginPath(),t.moveTo(e[0],e[1]);for(var r=1;r<n.shape.points.length;r++){var i=b(n.shape.points[r]);t.lineTo(i[0],i[1])}t.closePath(),t.fill()}window.addEventListener("load",(function(){var t,n=document.getElementById("canvas"),e=document.getElementById("structures-seen-output");function r(){(function(t,n){var e=n.getContext("2d");e.clearRect(0,0,g,y);var r=!0,i=!1,o=void 0;try{for(var a,u=t.buildings[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){m(e,a.value)}}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}var l=!0,c=!1,s=void 0;try{for(var f,d=t.digs[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){m(e,f.value)}}catch(t){c=!0,s=t}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}})(t=p(o(),a()),n),e.innerText=t.structuresSeen()}function i(t,n){var e=document.getElementById(t);return e.value=n,e.addEventListener("change",r),e}function o(){return{count:parseInt(u.value,10),width:parseInt(l.value,10),height:parseInt(c.value,10)}}function a(){return{count:parseInt(s.value,10),width:parseInt(f.value,10),height:parseInt(d.value,10)}}var u=i("building-count-input",10),l=i("building-width-input",4),c=i("building-height-input",3),s=i("dig-count-input",5),f=i("dig-width-input",4),d=i("dig-height-input",4),h=document.getElementById("simulation-count-input");document.getElementById("regenerate-button").addEventListener("click",r),document.getElementById("simulate-button").addEventListener("click",(function(){!function(t,n,e){for(var r=[],i=0;i<e;i++){var o=p(t,n);r.push({structuresSeen:o.structuresSeen()})}var a=10,u=30,l=30,c=40,s=460-c-u,f=400-a-l,d=v.f("#histogram").html("").append("svg").attr("width",s+c+u).attr("height",f+a+l).append("g").attr("transform","translate("+c+","+a+")"),h=v.e().domain([0,10]).range([0,s]);d.append("g").attr("transform","translate(0,"+f+")").call(v.a(h));var g=v.c().value((function(t){return t.structuresSeen})).domain(h.domain()).thresholds(h.ticks(10))(r),y=v.e().range([f,0]);y.domain([0,v.d(g,(function(t){return t.length}))]),d.append("g").call(v.b(y)),d.selectAll("rect").data(g).enter().append("rect").attr("x",1).attr("transform",(function(t){return"translate("+h(t.x0)+","+y(t.length)+")"})).attr("width",(function(t){return h(t.x1)-h(t.x0)-1})).attr("height",(function(t){return f-y(t.length)})).style("fill","#69b3a2")}(o(),a(),h.value)}))}))}});
//# sourceMappingURL=app.5930e53e.js.map